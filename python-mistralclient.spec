#
# This file is auto-generated. DO NOT EDIT
# Generated by: autospec.py
#
# Source0 file verified with key 0x4F398DEAE440091C (infra-root@openstack.org)
#
Name     : python-mistralclient
Version  : 4.0.0
Release  : 27
URL      : http://tarballs.openstack.org/python-mistralclient/python-mistralclient-4.0.0.tar.gz
Source0  : http://tarballs.openstack.org/python-mistralclient/python-mistralclient-4.0.0.tar.gz
Source1  : http://tarballs.openstack.org/python-mistralclient/python-mistralclient-4.0.0.tar.gz.asc
Summary  : Mistral Client Library
Group    : Development/Tools
License  : Apache-2.0
Requires: python-mistralclient-bin = %{version}-%{release}
Requires: python-mistralclient-license = %{version}-%{release}
Requires: python-mistralclient-python = %{version}-%{release}
Requires: python-mistralclient-python3 = %{version}-%{release}
Requires: PyYAML
Requires: cliff
Requires: keystoneauth1
Requires: osc-lib
Requires: oslo.i18n
Requires: oslo.serialization
Requires: oslo.utils
Requires: pbr
Requires: requests
Requires: six
Requires: stevedore
BuildRequires : PyYAML
BuildRequires : buildreq-distutils3
BuildRequires : cliff
BuildRequires : keystoneauth1
BuildRequires : osc-lib
BuildRequires : oslo.i18n
BuildRequires : oslo.serialization
BuildRequires : oslo.utils
BuildRequires : pbr
BuildRequires : requests
BuildRequires : six
BuildRequires : stevedore

%description
========================
Team and repository tags
========================

.. image:: https://governance.openstack.org/tc/badges/python-mistralclient.svg
    :target: https://governance.openstack.org/tc/reference/tags/index.html

Mistral
=======

.. image:: https://img.shields.io/pypi/v/python-mistralclient.svg
    :target: https://pypi.org/project/python-mistralclient/
    :alt: Latest Version

Mistral is a workflow service. Most business processes consist of multiple
distinct interconnected steps that need to be executed in a particular
order in a distributed environment. A user can describe such a process as a set
of tasks and their transitions. After that, it is possible to upload such a
description to Mistral, which will take care of state management, correct
execution order, parallelism, synchronization and high availability.

Mistral also provides flexible task scheduling so that it can run a process
according to a specified schedule (for example, every Sunday at 4.00pm) instead
of running it immediately. In Mistral terminology such a set of tasks and
relations between them is called a workflow.

Mistral client
==============

Python client for Mistral REST API. Includes python library for Mistral API and
Command Line Interface (CLI) library.

Installation
------------

First of all, clone the repo and go to the repo directory::

    $ git clone https://opendev.org/openstack/python-mistralclient.git
    $ cd python-mistralclient

Then just run::

    $ pip install -e .

or::

    $ pip install -r requirements.txt
    $ python setup.py install


Running Mistral client
----------------------

If Mistral authentication is enabled, provide the information about OpenStack
auth to environment variables. Type::

    $ export OS_AUTH_URL=http://<Keystone_host>:5000/v2.0
    $ export OS_USERNAME=admin
    $ export OS_TENANT_NAME=tenant
    $ export OS_PASSWORD=secret
    $ export OS_MISTRAL_URL=http://<Mistral host>:8989/v2  (optional, by
      default URL=http://localhost:8989/v2)

and in the case that you are authenticating against keystone over https:

    $ export OS_CACERT=<path_to_ca_cert>

.. note:: In client, we can use both Keystone auth versions - v2.0 and v3. But
          server supports only v3.*

To make sure Mistral client works, type::

    $ mistral workbook-list

You can see the list of available commands typing::

    $ mistral --help

Useful Links
============

* `PyPi`_ - package installation
* `Launchpad project`_ - release management
* `Blueprints`_ - feature specifications
* `Bugs`_ - issue tracking
* `Source`_
* `Specs`_
* `How to Contribute`_

.. _PyPi: https://pypi.org/project/python-mistralclient
.. _Launchpad project: https://launchpad.net/python-mistralclient
.. _Blueprints: https://blueprints.launchpad.net/python-mistralclient
.. _Bugs: https://bugs.launchpad.net/python-mistralclient
.. _Source: https://opendev.org/openstack/python-mistralclient
.. _How to Contribute: https://docs.openstack.org/infra/manual/developers.html
.. _Specs: https://specs.openstack.org/openstack/mistral-specs/
.. _Release Notes: https://docs.openstack.org/releasenotes/python-mistralclient

%package bin
Summary: bin components for the python-mistralclient package.
Group: Binaries
Requires: python-mistralclient-license = %{version}-%{release}

%description bin
bin components for the python-mistralclient package.


%package license
Summary: license components for the python-mistralclient package.
Group: Default

%description license
license components for the python-mistralclient package.


%package python
Summary: python components for the python-mistralclient package.
Group: Default
Requires: python-mistralclient-python3 = %{version}-%{release}

%description python
python components for the python-mistralclient package.


%package python3
Summary: python3 components for the python-mistralclient package.
Group: Default
Requires: python3-core
Provides: pypi(python-mistralclient)

%description python3
python3 components for the python-mistralclient package.


%prep
%setup -q -n python-mistralclient-4.0.0
cd %{_builddir}/python-mistralclient-4.0.0

%build
export http_proxy=http://127.0.0.1:9/
export https_proxy=http://127.0.0.1:9/
export no_proxy=localhost,127.0.0.1,0.0.0.0
export LANG=C.UTF-8
export SOURCE_DATE_EPOCH=1583213303
# -Werror is for werrorists
export GCC_IGNORE_WERROR=1
export AR=gcc-ar
export RANLIB=gcc-ranlib
export NM=gcc-nm
export CFLAGS="$CFLAGS -O3 -ffat-lto-objects -flto=4 "
export FCFLAGS="$CFLAGS -O3 -ffat-lto-objects -flto=4 "
export FFLAGS="$CFLAGS -O3 -ffat-lto-objects -flto=4 "
export CXXFLAGS="$CXXFLAGS -O3 -ffat-lto-objects -flto=4 "
export MAKEFLAGS=%{?_smp_mflags}
python3 setup.py build

%install
export MAKEFLAGS=%{?_smp_mflags}
rm -rf %{buildroot}
mkdir -p %{buildroot}/usr/share/package-licenses/python-mistralclient
cp %{_builddir}/python-mistralclient-4.0.0/LICENSE %{buildroot}/usr/share/package-licenses/python-mistralclient/57aed0b0f74e63f6b85cce11bce29ba1710b422b
python3 -tt setup.py build  install --root=%{buildroot}
echo ----[ mark ]----
cat %{buildroot}/usr/lib/python3*/site-packages/*/requires.txt || :
echo ----[ mark ]----

%files
%defattr(-,root,root,-)

%files bin
%defattr(-,root,root,-)
/usr/bin/mistral

%files license
%defattr(0644,root,root,0755)
/usr/share/package-licenses/python-mistralclient/57aed0b0f74e63f6b85cce11bce29ba1710b422b

%files python
%defattr(-,root,root,-)

%files python3
%defattr(-,root,root,-)
/usr/lib/python3*/*
